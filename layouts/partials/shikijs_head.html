<!-- Initialize Shikijs -->
<script src="https://cdn.jsdelivr.net/npm/shiki"></script>
<script>
  let highlighter;
  shiki
    .getHighlighter({
      theme: "{{ $.Site.Params.shiki_theme }}}",
      langs: ["js", "python", "wolfram"],
    })
    .then((highlighter) => {
      document.querySelectorAll("div.shiki").forEach((block) => {
        const code = block.textContent;
        const language = block.dataset.language;
        const highlightedCode = highlighter.codeToHtml(code, {
          lang: language,
        });
        block.innerHTML = highlightedCode;
      });
    });
</script>
